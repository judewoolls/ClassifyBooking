{% extends 'base.html' %}
{% load static %}

{% block content %}
<h2>Company Dashboard for <strong>{{ company.name }}</strong></h2>
<h3>Manager: {{ company.manager }}</h3>
<div class="container">
    <div class="row">
        <div class="card col-12">
            <details class="company-info">
                <summary>Company info</summary>
                <h5 class="mt-1"><strong>{{ company.name }}</strong></h5>
                <p>Address: {{ company.address }}</p>
                <p>City: {{ company.city }}</p>
                <p>Postcode: {{ company.postcode }}</p>
                <p>Email: {{ company.email}}</p>
                <p>Contact Number: <a href="tel:+{{ company.phone_number }}"
                        style="color: blue; text-decoration: underline;">{{ company.phone_number }}</a></p>
                <p class="card-footer"><a href="{{ company.website}}"
                        style="color: blue; text-decoration: underline;">Visit company website</a></p>
            </details>
        </div>
        <div class="card col-12">
            <details>
                <summary>Company forms</summary>
                <div class="container mb-4" style="display: flex; flex-direction: column; gap: 10px;">
                    <a href="{% url 'change_company_details' %}" class="btn btn-success mt-2">Edit Company Info</a>
                    <a href="{% url 'manage_venues' %}" class="btn btn-success mt-2">Manage Venues</a>
                    <a href="{% url 'view_coaches' %}" class="btn btn-success mt-2">View all coaches</a>
                    <a href="{% url 'view_bookings' %}" class="btn btn-success mt-2">View all bookings</a>
                    <a href="{% url 'view_clients' %}" class="btn btn-success mt-2">View all clients</a>
                    <a href="#" class="btn btn-success mt-2">View Transactions</a>
                    <a href="{% url 'view_refund_requests' %}" class="btn btn-success mt-2">Manage Refund Requests</a>
                    <a href="{% url 'coach_dashboard' %}" class="btn btn-success mt-2">Manage Event Schedule</a>
                    <a href="{% url 'update_token_price' %}" class="btn btn-success mt-2">Update Pricing</a>
                </div>
            </details>
        </div>
        <div class="card col-12 d-flex justify-content-center text-center">
            {% if company.stripe_onboarding_completed %}
            <p class="text-success mb-4">Your company's Stripe account is connected and ready to receive payments!</p>
            <!-- Optionally, a link to their Stripe Express dashboard if you want to provide it -->
            <!-- You'd need to create a Stripe Login Link: https://stripe.com/docs/connect/enable-payment-acceptance-guide#login-links -->
            {% else %}
            <p class="text-danger mb-4">Your company's Stripe account is not yet fully set up. Please complete the
                onboarding process to receive payments.</p>
            <a href="{% url 'stripe_onboard_company' %}"
                class="btn" style="background-color: indigo; color: white; max-width: 100px;">
                Connect to Stripe
            </a>
            {% endif %}
        </div>
    </div>
</div>

{% endblock content %}